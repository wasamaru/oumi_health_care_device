# 見積書（Espressif ESP32-WROOM-32E版）

**作成日**: 2025年10月8日  
**対象**: アップグレード計画 部品見積

---

## 見積明細

| 項番 | 数量 | リファレンス | 部品名 | メーカー | 説明 | 単価(円) | 小計(円) |
|------|------|-------------|--------|---------|------|----------|----------|
| 1 | 1 | CN1 | 5077CR-16-SMC2-BK-TR | Neltron | USB Type-Cコネクタ（microUSB→Type-C変更） | 110 | 110 |
| 2 | 4 | CN4,CN5,CN6,CN7 | 5077CR-16-SMC2-BK-TR | Neltron | USB Type-Cジャック（PJ1-023→Type-C変更） | 110 | 440 |
| 3 | 3 | C1,C5,C6 | CL05A106MP5NUNC | Samsung | チップコンデンサ 10uF/10V 1005 | 10 | 30 |
| 4 | 2 | C2,C13 | GRM033R61C104KE14 | 村田製作所 | チップコンデンサ 0.1uF/16V 0603 | 5 | 10 |
| 5 | 3 | C7,C8,C9 | GRM188R60J476ME15D | 村田製作所 | チップコンデンサ 47uF/6.3V 1608 | 15 | 45 |
| 6 | 1 | C10 | GRM32ER61A107ME20K | 村田製作所 | チップコンデンサ 100uF/10V 3225 | 30 | 30 |
| 7 | 1 | C11 | CGA2B1X7S1C334M050BC | TDK | チップコンデンサ 330nF/16V 1005 | 10 | 10 |
| 8 | 1 | C12 | GRM033R61A105ME15D | 村田製作所 | チップコンデンサ 1.0uF/10V 0603 | 5 | 5 |
| 9 | 1 | D1 | SMLP13BC8TT86 | Rohm | チップLED青 1005 | 15 | 15 |
| 10 | 1 | D2 | SML-P12DTT86R | Rohm | チップLED橙 1005 | 15 | 15 |
| 11 | 1 | D3 | SML-P11MTT86 | Rohm | チップLED緑 1005 | 15 | 15 |
| 12 | 4 | D7,D8,D9,D10 | 1N4148WX-TP | Micro Commercial | ダイオード | 5 | 20 |
| 13 | 1 | D11 | APDA3020LZGCK | Kingbright | チップLED緑 サイドビュー | 20 | 20 |
| 14 | 1 | L1 | XFL4020-102MEB | Coilcraft | コイル 1uH | 50 | 50 |
| 15 | 2 | L2,L3 | BLM18AG102SN1D | 村田製作所 | チップビーズ 1608 | 5 | 10 |
| 16 | 4 | Q1,Q2,Q3,Q4 | FDV305N | ON Semiconductor | N-ch MOSFET | 30 | 120 |
| 17 | 8 | R1,R10,R19,R23,R25,R27,R29,R34 | ERJ-1GNF1002C | Panasonic | チップ抵抗 10kΩ 0603 | 2 | 16 |
| 18 | 4 | R2,R3,R4,R32 | ERJ-2RKF5600X | Panasonic | チップ抵抗 560Ω 1005 | 2 | 8 |
| 19 | 1 | R11 | ERJ-1GNF5603C | Panasonic | チップ抵抗 560kΩ 0603 | 2 | 2 |
| 20 | 1 | R12 | ERJ-1GNF1803C | Panasonic | チップ抵抗 180kΩ 0603 | 2 | 2 |
| 21 | 1 | R13 | ERJ-1GNF1001C | Panasonic | チップ抵抗 1kΩ 0603 | 2 | 2 |
| 22 | 1 | R14 | ERJ-1GNF1004C | Panasonic | チップ抵抗 1MΩ 0603 | 2 | 2 |
| 23 | 1 | R15 | ERJ-1GNF3903C | Panasonic | チップ抵抗 390kΩ 0603 | 2 | 2 |
| 24 | 4 | R17,R21,R31,R33 | RK73Z1ETTP | KOA | チップ抵抗 0Ω 1005 | 2 | 8 |
| 25 | 1 | R18 | ERJ-1GNF6801C | Panasonic | チップ抵抗 6.8kΩ 0603 | 2 | 2 |
| 26 | 4 | R22,R24,R26,R28 | ERJ-1GNF1000C | Panasonic | チップ抵抗 100Ω 0603 | 2 | 8 |
| 27 | 10 | R35-R44 | ERJ-1GNF5101C | Panasonic | チップ抵抗 5.1kΩ 0603（Type-C用CC端子×5コネクタ） | 2 | 20 |
| 28 | 1 | S1 | SKHUBHE010 | アルプスアルパイン | プッシュボタン DIP | 30 | 30 |
| 29 | 1 | S2 | CHS-06A | コパル電子 | DIPスイッチ | 50 | 50 |
| 30 | 1 | S3 | SKSGACE010 | アルプスアルパイン | プッシュボタン SMD | 30 | 30 |
| 31 | 1 | U3 | TPS630250RNCT | TI | DC-DCコンバータ | 200 | 200 |
| 32 | 1 | U4 | LTC2955IDDB_1#TRMPBF | Analog Devices | 電源モニタIC | 300 | 300 |
| 33 | 1 | U5 | TPS22919DCKT | TI | ロードスイッチ | 100 | 100 |
| **34B** | **1** | **U1** | **ESP32-WROOM-32E-N16** | **Espressif** | **Wi-Fi + Bluetooth 4.2モジュール** | **800** | **800** |
| 35 | 1 | - | PCB 4層基板 | - | 4層プリント基板 | 1500 | 1500 |
| 36 | 1 | CN8 | DM3D-SF | Hirose | microSDカードソケット（push-push, CD/WP） | 120 | 120 |
| 37 | 1 | D12 | TPD6E05U06 | Texas Instruments | ESD保護アレイ（SD信号/電源 6ch） | 50 | 50 |
| 38 | 1 | FB1 | BLM18AG102SN1D | 村田製作所 | フェライトビーズ 1608（microSD VDD） | 5 | 5 |
| 39 | 1 | C_SD1 | GRM033R61C104KE14 | 村田製作所 | 0.1uF/16V 0603（microSDデカップリング） | 5 | 5 |
| 40 | 1 | C_SD2 | CL05A106MP5NUNC | Samsung | 10uF/10V 1005（microSDデカップリング） | 10 | 10 |
| 41 | 4 | R_SD1-R_SD4 | ERJ-1GNF1000C | Panasonic | 100Ω 0603（SD SPIシリーズ抵抗×4） | 2 | 8 |
| 42 | 1 | R_SD5 | ERJ-1GNF1002C | Panasonic | 10kΩ 0603（CSプルアップ） | 2 | 2 |

---

## 合計

| | 金額(円) |
|---|----------|
| **合計** | **¥4,227** |

---

## 備考

### 主な変更点

1. **CN1: microUSB → USB Type-C（5077CR-16-SMC2-BK-TR）に変更**
   - 既存: 10118194-0001LF（Amphenol FCI、廃番）
   - 新規: 5077CR-16-SMC2-BK-TR（Neltron、USB 2.0対応16ピン）

2. **CN4-CN7: DCジャック → USB Type-C（5077CR-16-SMC2-BK-TR）に変更**
   - 既存: PJ1-023（CUI Devices、DCジャック）
   - 新規: 5077CR-16-SMC2-BK-TR（Neltron、USB Type-C）×4個

3. **U1: EYSHCNZXZ（廃番）→ ESP32-WROOM-32E-N16（Espressif）に変更**
   - 既存: EYSHCNZXZ（太陽誘電、廃番、nRF52832ベース）
   - 新規: ESP32-WROOM-32E-N16（Espressif、ESP32ベース）
   - **注意: アーキテクチャが全く異なるためファームウェア全面書き換えが必要**

4. **Type-C用CC端子プルダウン抵抗（5.1kΩ×10）追加**
   - USB Type-Cコネクタ5個×2本（CC1, CC2）= 10個
   - 充電開始に必須の回路

5. **基板: 4層基板 @¥1,500**
6. **microSDモジュール一式追加**（ソケット、ESD、デカップリング、シリーズ抵抗、プルアップ）

### ESP32-WROOM-32Eの特徴

#### メリット

1. **コストが安い**
   - 単価¥800（村田MBN52832の¥1,400と比較して¥600安い）
   - 秋月電子で即納可能（在庫1849個）

2. **高性能**
   - デュアルコア 240MHz（nRF52832は64MHz）
   - 大容量メモリ: Flash 16MB、RAM 520KB
   - 豊富なGPIO: 26本（nRF52832は20本）

3. **Wi-Fi + Bluetooth両対応**
   - Wi-Fi 802.11b/g/n対応
   - Bluetooth 4.2 BR/EDR・BLE対応
   - 将来の機能拡張に有利（OTAファームウェア更新等）

4. **開発環境が充実**
   - ESP-IDF、Arduino IDE対応
   - 非常に大きなコミュニティ
   - 豊富なサンプルコード・ライブラリ

#### 留意点（重要）

1. **モジュール厚さ**
   - ESP32: 18×25.5×**3.1mm**、他実装部品（Type‑C等）と同程度
   - 機構設計（レイアウト/スタックアップ）次第で薄型化要件に整合可能

2. **ファームウェアの全面書き換えが必要**
   - Nordic nRF52832からEspressif ESP32への変更
   - アーキテクチャが全く異なる（ARM Cortex-M4 → Xtensa LX6）
   - 開発環境も変更（Nordic SDK → ESP-IDF）
   - **開発工数: 2-4週間**

3. **消費電力が高め**
   - 特にWi-Fi使用時は消費電力大
   - バッテリー駆動時間に影響

### ESP32を選ぶべきケース

以下の**すべて**を満たす場合のみ、ESP32を検討する価値があります：

1. **筐体サイズを大幅に変更可能**（薄型化要求を緩和）
2. **Wi-Fi機能の追加を検討**（製品価値向上）
3. **ファーム全面書き換えの開発工数・予算に余裕**
4. **コスト最優先**（部品単価を最小化）

### 技術的注意事項

1. **USB Type-C用回路の追加が必要**
   - CC1, CC2端子に各5.1kΩのプルダウン抵抗が必須
   - ESD保護回路の追加を推奨
   - デカップリングコンデンサ（100nF + 10μF）の追加を推奨

2. **基板設計の大幅変更**
   - ESP32のサイズに対応した基板設計
   - USB Type-Cコネクタのフットプリント変更
   - CC端子用プルダウン抵抗の配置
   - 差動ペア配線（D+, D-はインピーダンス90Ω）

3. **ファームウェアの全面書き換え**
   - Nordic nRF5 SDKからESP-IDFへの移行
   - Bluetooth通信ライブラリの変更
   - GPIO制御、タイマー、割り込み処理の書き換え
   - 開発工数: 約2-4週間

### 開発スケジュール

| フェーズ | 作業内容 | 期間 |
|---------|---------|------|
| 評価 | ESP32評価ボード入手・動作確認 | 1週間 |
| ファーム開発 | **ファームウェア全面書き換え** | **2-4週間** |
| 設計 | 基板設計変更（ESP32対応、Type-C回路追加） | 5-7日 |
| 試作 | 試作基板製作・実装 | 5-7日 |
| 検証 | 動作確認・評価 | 3-5日 |
| **合計** | | **約6-8週間** |

### リスク評価

| リスク項目 | レベル | 対策 |
|-----------|--------|------|
| ファームウェア移植 | **高** | 全面書き換えで工数大 |
| 基板設計変更 | **中** | サイズ変更で筐体再設計必要 |
| 技適認証 | **なし** | モジュール認証活用可能 |
| 部品入手性 | **低** | 秋月で即納可能 |
| 薄型化要求 | **高** | サイズが大きく要求に不適合 |

---

## 参考: 村田MBN52832版との比較

| 項目 | ESP32版 | 村田 MBN52832版 |
|------|---------|----------------|
| マイコン単価 | ¥800 | ¥1,400 |
| **合計金額** | **¥4,227** | **¥4,827** |
| 価格差 | **¥600安い** | - |
| ファーム移植 | **全面書換必要** | 容易（同一SoC） |
| 開発工数 | **2-4週間** | 1-2日 |
| サイズ | 18×25.5×3.1mm | 7.4×7.0×0.9mm |
| 薄型化適合 | **× 不適** | ◎ |
| Wi-Fi | あり | なし |
| Bluetooth | 4.2 | 5.0 |

### 結論

**ESP32版は¥600安く、Wi‑Fi/将来拡張に強い一方、ファーム全面書き換えが必要です。厚みに関しては他部品と同程度で、機構設計により薄型要件との両立は可能です。**

**ESP32を選ぶべきケース:**
- Wi-Fi機能が必須
- 筐体サイズを大幅に変更可能
- ファーム全面書き換えの工数・予算に余裕がある
